# Auth with ConnectTokens

This example will showcase how to get a `ConnectToken` to establish a connection with a game server.

You can find more information in the [book](https://cbournhonesque.github.io/lightyear/book/concepts/connection/title.html#netcode), but basically
you need a `ConnectToken` to establish a connection with a server using the Netcode protocol. (it is not required if you are using 
a different means to establish a connection, such as steam sockets)

The `ConnectToken` is a token that is generated by a backend server, using a private key that is shared with your game servers.
It is sent to the client using a secure method of your choice (TCP+TLS, websockets, HTTPS, etc.).
Once the client has received the `ConnectToken`, they can use it to establish a connection with the game server.

In this example, the game server and the backend will run in the same process. The server will run a separate task
that listens on a TCP socket for incoming requests. For every request, it will generate a `ConnectToken` that it will send
to the client. The client can then use the `ConnectToken` to start the `lightyear` connection.


## Running the example

There are different 'modes' of operation:

- as a dedicated server with `cargo run -- server`
- as a listen server with `cargo run -- client-and-server`. This will launch 2 independent bevy apps (client and server) in
  separate threads.
  They will communicate via channels (so with almost 0 latency)
- as a listen server with `cargo run -- host-server`. This will launch a single bevy app, where the server will also act
  as a client. Functionally, it is similar to the "client-and-server" mode, but you have a single bevy `World` instead of
  separate client and server `Worlds`s.

Then you can launch clients with the commands:
- `cargo run -- client`

You can modify the file `assets/settings.ron` to modify some networking settings.